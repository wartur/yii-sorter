ОПИСАНИЕ АЛГОРИТМА
==================

Работа алгоритма основана на разряженных массивах

Разряженный массив
------------------
Допустим, что у нас есть некий разряженный массив с записями индексированный по возрастанию.
Для примеров мы возьмем мощность массива равное 16 [0..16]
```
4
8
12
```

В такой массив возможно вставить новую запись между двумя соседними всего за одну
операцию записи - присвоения нового индекса, диапазон которого находится между этими соседями.
```
4
8
10 <<<
12
```

Свободные индексы со временем заканчиваются и при вставке очередной записи может
произойти конфликт индексов.
```
4
8
10
10.5 ??? - хочу вставить еще одну запись на позицию №4!!!
11
12
```

Для предотвращения конфликтов требуется нормализировать
разряженный массив, распределяя индексы таким образом,
что бы образовывалось свободное пространство и вставить очередную запись
```
2
4
6
8 - это новая запись на позиции №4
10
12
```

Далее весь смысл улучшения алгоритма сводится к тому, что бы разряженный массив
требовал как можно меньше операций нормализации. Для этого мы рассмотрим разные
режимы работы.

Работа при нормальном распределении
-----------------------------------
При использовании нормального распределения считается, что требуется вставлять
очередную запись между двумя пограничными. Это означает, что первое значение
для вставки будет равно (0 + 16) / 2 = 8, второе (8 + 16) / 2 = 12,
третье (12 + 16) / 2 = 14 и так далее ...

При условии нормального распределения, то есть вставки в произвольные места по
закону нормального распределения не потребуется ни одной нормализации пространства,
так как все очередные записи лягут в разряженные пространства между индексами.

Смысла использования нормального распределения в чистом виде нет, так как в реальной
жизни пожелания пользователя не случайны. В приведенном выше примере уже через
5-6 итераций, мы достигнем деградации между 15..16 и потребуется нормализация.

Оптимизация линейных операций
-------------------------------------------------------------------
1) вставка в начало/конец списка

В качестве первого примера линейных операций возьмем вставку в начало/конец списка, эти операции
очень часты в повседневной жизни. На практике новые записи добавляются в начало/конец
списка. Добавление в конец списка не определяется нормальным законом.
Это линейная операция.

Возьмем другую мощность массива 0..64

Итого
-----
Алгоритм очень устойчив к разным издевательствам, вроде циклической перестановки
записей в одно и то же место в центре списка, перемещения записи методом пузырька,
циклической вставки в конец списка, имеет уведомления в лог,
которые заведомо сообщает администратору, о том, что алгоритм
в скором времени перейдет на аварийный режим работы. В аварийном режиме
он, хоть и с большими потерями производительности, но продолжит работать, до физического
исчерпания разряженного массива.

Что можно сделать еще
---------------------
Теоретически, алгоритму можно еще больше повысить производительность в ущерб
контролю деградации разряженного массива, что уменьшит количества запросов на
чтение в некоторых случаях с 4 до 1, но так как операции чтения по числовому индексу
очень быстры, я не считаю верным тратить на это время и усложнять и без того сложный код.
